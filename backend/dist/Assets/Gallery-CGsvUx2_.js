import{r as n,j as e,a as y}from"./index-Dg0sH7Ks.js";import{c as u}from"./createLucideIcon-CixBgJK_.js";import{L as b}from"./loader-circle-BWNAvajI.js";import{U as j}from"./upload-HivPhWLX.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],N=u("circle-check",w);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],k=u("circle-x",v),L=({onUploadSuccess:d})=>{const[c,m]=n.useState(Array(6).fill(null)),[i,g]=n.useState(!1),[l,p]=n.useState(null),o=(a,s="success")=>{p({message:a,type:s}),setTimeout(()=>p(null),3e3)},h=(a,s)=>{const r=[...c];r[a]=s,m(r)},f=a=>{document.getElementById(`file-input-${a}`).click()},x=async a=>{a.preventDefault();const s=c.filter(t=>t!==null);if(s.length===0){o("Please select at least 1 image","error");return}const r=new FormData;s.forEach(t=>r.append("images",t)),g(!0);try{const t=await y.post("/gallery/multiple",r,{headers:{"Content-Type":"multipart/form-data"}});t.status===201||t.status===200?(o("Images uploaded successfully!","success"),m(Array(6).fill(null)),d&&d()):o(t.data?.message||"Upload failed!","error")}catch(t){console.error("Upload Error:",t),o(t.response?.data?.message||t.message||"Something went wrong!","error")}finally{g(!1)}};return e.jsxs("div",{className:"p-8 bg-white shadow-xl rounded-2xl mb-8 border border-gray-200 relative",children:[l&&e.jsxs("div",{className:`fixed top-6 right-6 px-5 py-3 rounded-lg shadow-lg text-white flex items-center gap-2 text-sm font-medium ${l.type==="success"?"bg-green-600":"bg-red-600"}`,children:[l.type==="success"?e.jsx(N,{className:"w-5 h-5"}):e.jsx(k,{className:"w-5 h-5"}),l.message]}),e.jsx("h2",{className:"text-3xl font-extrabold mb-8 text-gray-900 text-center",children:"Upload Images"}),e.jsxs("form",{onSubmit:x,className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-8",children:[c.map((a,s)=>e.jsxs("div",{onClick:()=>f(s),className:"relative border-2 border-gray-300 rounded-2xl flex items-center justify-center bg-gray-50 hover:bg-indigo-50 cursor-pointer transition shadow-md hover:shadow-lg min-h-[180px] overflow-hidden",children:[a?e.jsx("img",{src:URL.createObjectURL(a),alt:`Image ${s+1}`,className:"w-full h-full object-cover rounded-xl"}):e.jsxs("span",{className:"text-gray-500 font-semibold text-lg",children:["Image ",s+1]}),e.jsx("input",{id:`file-input-${s}`,type:"file",accept:"image/*",onChange:r=>h(s,r.target.files[0]),className:"hidden"})]},s)),e.jsx("div",{className:"col-span-full flex justify-center mt-6",children:e.jsx("button",{type:"submit",disabled:i,className:`px-8 py-3 rounded-xl font-semibold flex items-center gap-2 transition shadow-lg text-white ${i?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-indigo-600 to-blue-600 hover:from-indigo-700 hover:to-blue-700"}`,children:i?e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"animate-spin w-5 h-5"})," Uploading..."]}):e.jsxs(e.Fragment,{children:[e.jsx(j,{className:"w-5 h-5"})," Upload All"]})})})]})]})};export{L as default};
