import{r as d,j as t,a as f}from"./index-Dg0sH7Ks.js";import{y as o}from"./index-Dlz4q_FO.js";import"./clsx-B-dksMZM.js";function b({onUploadSuccess:u}){const[s,n]=d.useState(""),[l,i]=d.useState(null),[r,c]=d.useState(!1),p=a=>{const e=a.target.files?.[0];if(e){if(e.size>30*1024*1024){o.error("Video size should be max 30MB ❌");return}i(e)}},m=async()=>{if(!s||!l){o.error("Title and video are required ❌");return}const a=new FormData;a.append("video",l),a.append("title",s);try{c(!0);const e=await f.post("/video/upload",a,{headers:{"Content-Type":"multipart/form-data"}});e.data?.success?(o.success(e.data.message||"Video uploaded ✅"),alert(`Video "${s}" uploaded successfully!`),n(""),i(null),u?.()):o.error(e.data?.message||"Upload failed ❌")}catch(e){console.error(e),o.error("Network error ❌")}finally{c(!1)}};return t.jsxs("div",{className:"p-6 bg-white shadow-lg rounded-xl w-full max-w-lg mx-auto",children:[t.jsx("h2",{className:"text-2xl font-bold mb-4 text-center",children:"Upload Video"}),t.jsx("input",{type:"text",placeholder:"Enter video name",value:s,onChange:a=>n(a.target.value),className:"border p-2 rounded w-full mb-3"}),t.jsx("input",{type:"file",accept:"video/*",onChange:p,className:"mb-3"}),l&&t.jsxs("p",{className:"text-sm text-gray-500 mb-3",children:["Selected: ",l.name]}),t.jsx("button",{onClick:m,disabled:r,className:`w-full py-2 rounded text-white font-semibold transition ${r?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:r?"Uploading...":"Upload Video"})]})}export{b as default};
