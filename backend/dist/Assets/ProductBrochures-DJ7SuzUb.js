import{r as o,a as v,j as e}from"./index-Dg0sH7Ks.js";import{b as y,c as C,d as I,F as k}from"./index-CrGYePfZ.js";const F=({category:a})=>{const[s,x]=o.useState([]),[l,n]=o.useState(null),[m,h]=o.useState(!1),[f,u]=o.useState(!0);o.useEffect(()=>{g()},[a]);const g=async()=>{try{u(!0);const t=await v.get("/brochures/all"),i=(Array.isArray(t.data)?t.data:t.data.data||[]).filter(d=>d.category&&d.category.toLowerCase()===a.toLowerCase());x(i)}catch(t){console.error("Error fetching brochures:",t),x([])}finally{u(!1)}},b=t=>n(t),j=()=>{n(null),h(!1)},p=()=>{n(t=>t>0?t-1:s.length-1)},w=()=>{n(t=>t<s.length-1?t+1:0)},N=async(t,c)=>{try{const d=await(await fetch(t)).blob(),r=document.createElement("a");r.href=URL.createObjectURL(d),r.download=c||"brochure.jpg",document.body.appendChild(r),r.click(),document.body.removeChild(r)}catch(i){console.error("Error downloading image:",i)}};return f?e.jsx("div",{className:"text-center py-10",children:"Loading brochures..."}):s.length===0?e.jsxs("div",{className:"text-center py-10",children:['No brochures found for "',a,'"']}):e.jsxs("div",{className:"bg-white min-h-screen flex flex-col items-center mx-auto p-6",children:[e.jsxs("div",{className:"w-full max-w-7xl text-center mb-8",children:[e.jsxs("h1",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-gray-800",children:[a.charAt(0).toUpperCase()+a.slice(1)," Brochures"]}),e.jsx("div",{className:"h-1 w-32 bg-orange-500 mx-auto mt-4"})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6 w-full max-w-7xl",children:s.map((t,c)=>e.jsxs("div",{className:"border rounded-lg shadow-lg p-4 bg-white flex flex-col items-center cursor-pointer hover:shadow-xl transition",onClick:()=>b(c),children:[e.jsx("img",{src:t.url,alt:t.name,className:"w-full h-48 object-cover rounded mb-3"}),e.jsx("p",{className:"font-medium text-gray-700",children:t.name||"No Name"})]},t._id))}),l!==null&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex justify-center items-center z-50 p-4",children:e.jsxs("div",{className:"relative flex items-center justify-center w-full max-w-4xl max-h-[80vh]",children:[e.jsx("img",{src:s[l].url,alt:s[l].name,className:`max-w-full max-h-[75vh] transition-transform duration-300 ${m?"scale-125":"scale-100"}`,onClick:()=>h(!m)}),e.jsx("button",{className:"absolute top-1/2 left-4 text-white text-3xl transform -translate-y-1/2",onClick:p,children:e.jsx(y,{})}),e.jsx("button",{className:"absolute top-1/2 right-4 text-white text-3xl transform -translate-y-1/2",onClick:w,children:e.jsx(C,{})}),e.jsxs("div",{className:"absolute top-4 right-4 flex space-x-4 text-gray-300 text-2xl",children:[e.jsx("button",{onClick:()=>N(s[l].url,s[l].name),children:e.jsx(I,{})}),e.jsx("button",{onClick:j,children:e.jsx(k,{})})]})]})})]})};export{F as default};
