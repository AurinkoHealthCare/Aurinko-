import{r as t,a as i,j as e,H as c,N as d}from"./index-Dg0sH7Ks.js";const x=({children:s,allowedRoles:n=[]})=>{const[a,r]=t.useState(null),[o,u]=t.useState(!0);return t.useEffect(()=>{i.get("/auth/me").then(l=>{r(l.data.role)}).catch(()=>{r(null)}).finally(()=>{u(!1)})},[]),o?e.jsx(e.Fragment,{children:e.jsx(c,{})}):!a||!n.includes(a)?e.jsx(d,{to:"/unauthorized",replace:!0}):s};export{x as default};
