import{r as s,c as N,j as e,a as d}from"./index-Dg0sH7Ks.js";import{P as y}from"./ProductCard-Bow7PO1H.js";import{u as w}from"./useTranslation-CGA3uCaV.js";const S=()=>{const{t:v}=w("home_parts"),[m,g]=s.useState([]),[P,c]=s.useState(!0),[t,h]=s.useState(null),[u,l]=s.useState(!1),[n]=N(),r=n.get("segment"),f=n.get("theme"),x=async()=>{try{l(!0);const a=await d.get("/otherimage/all"),o=(Array.isArray(a.data)?a.data:a.data?.data||[]).find(j=>j.imageName?.toLowerCase()==="ananophosphosome");h(o||null)}catch(a){console.error("Failed to fetch header image ❌",a)}finally{l(!1)}},p=async()=>{try{c(!0);const a=await d.get("/products2/all"),i=r?a.data.filter(o=>o.segment?.toLowerCase()===r.toLowerCase()):a.data;g(i)}catch{alert("❌ Error fetching products")}finally{c(!1)}};return s.useEffect(()=>{x(),p()},[r]),e.jsxs("div",{className:`font-sans ${f==="dark"?"bg-gray-900 text-white":"bg-white text-black"}`,children:[e.jsx("div",{className:"relative w-full",children:u?e.jsx("div",{className:"w-full h-64 flex items-center justify-center bg-gray-100",children:e.jsx("p",{className:"text-gray-500",children:"Loading header image..."})}):t?e.jsx("div",{className:"relative w-full",children:e.jsx("img",{src:t.url,alt:t.imageName,className:"w-full h-full object-cover"})}):e.jsx("div",{className:"w-full h-64 flex items-center justify-center bg-gray-100",children:e.jsx("p",{className:"text-gray-500",children:'No "Nanophosphosome" image found'})})}),e.jsx("div",{className:"flex flex-col w-full p-4",children:e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-1 lg:grid-cols-1 gap-4",children:e.jsx(y,{products:m,segment:"ANanophosphosome",theme:"Agriculture"})})})]})};export{S as default};
