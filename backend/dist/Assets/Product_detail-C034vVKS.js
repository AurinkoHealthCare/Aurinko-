import{r as b,j as a,a as f}from"./index-Dg0sH7Ks.js";const v=()=>{const i={productImage:null,productLogo:null,name:"",details:"",segment:"",type:"",category:"",packing:"",composition:"",indications:"",usage:"",report:"",brochure:"",feedback:"",translations:{fr:{},es:{},ar:{},ko:{}},reportType:"text",brochureType:"text",previewImage:"",previewLogo:""},[n,c]=b.useState([i]),[m,u]=b.useState({}),d=(r,s,e)=>{const t=r.target.files[0],o=[...n];o[s][e]=t,o[s][`preview${e.charAt(0).toUpperCase()+e.slice(1)}`]=t&&e.includes("product")?URL.createObjectURL(t):"",c(o)},p=(r,s)=>{const{name:e,value:t}=r.target,o=[...n];o[s][e]=t,c(o)},g=(r,s,e)=>{const{name:t,value:o}=r.target,l=[...n];l[s].translations[e]||(l[s].translations[e]={}),l[s].translations[e][t]=o,c(l)},h=()=>{if(n.length>=5){alert("❌ Maximum 5 items allowed");return}c([...n,{...i}])},x=async r=>{r.preventDefault();try{for(const s of n){const e=new FormData;s.productImage&&e.append("productImage",s.productImage),s.productLogo&&e.append("productLogo",s.productLogo),e.append("name",s.name),e.append("details",s.details),e.append("segment",s.segment),e.append("type",s.type),e.append("category",s.category),e.append("packing",s.packing),e.append("composition",s.composition),e.append("indications",s.indications),e.append("usage",s.usage),e.append("feedback",s.feedback),e.append("translations",JSON.stringify(s.translations)),s.reportType==="file"&&s.report instanceof File,e.append("report",s.report),s.brochureType==="file"&&s.brochure instanceof File,e.append("brochure",s.brochure),await f.post("/products2/add",e,{headers:{"Content-Type":"multipart/form-data"}})}alert("✅ All products added successfully!"),c([{...i}]),u({})}catch(s){console.error("❌ Error:",s),alert("❌ Error adding products: "+(s.response?.data?.message||s.message))}};return a.jsxs("div",{className:"p-6 max-w-6xl mx-auto font-sans text-sm text-gray-800",children:[a.jsx("h2",{className:"text-2xl font-bold mb-6 text-center text-green-700 uppercase tracking-wide",children:"🌍 Global Provider of Animal Feed Supplements"}),a.jsxs("form",{onSubmit:x,children:[n.map((r,s)=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-5 mb-8 bg-white shadow-md",children:[a.jsxs("h3",{className:"font-semibold text-lg text-blue-700 mb-5",children:["📦 Product ",s+1]}),a.jsxs("div",{className:"flex flex-wrap gap-6 mb-6",children:[a.jsxs("div",{className:"flex flex-col items-center",children:[r.previewImage&&a.jsx("img",{src:r.previewImage,alt:"Preview",className:"w-24 h-24 object-cover rounded border mb-2"}),a.jsx("label",{className:"text-sm font-semibold",children:"Product Image"}),a.jsx("input",{type:"file",accept:"image/*",onChange:e=>d(e,s,"productImage"),required:!0,className:"mt-1 text-xs border border-gray-300 rounded px-3 py-2 w-52"})]}),a.jsxs("div",{className:"flex flex-col items-center",children:[r.previewLogo&&a.jsx("img",{src:r.previewLogo,alt:"Logo Preview",className:"w-24 h-24 object-contain rounded border mb-2"}),a.jsx("label",{className:"text-sm font-semibold",children:"Product Logo"}),a.jsx("input",{type:"file",accept:"image/*",onChange:e=>d(e,s,"productLogo"),required:!0,className:"mt-1 text-xs border border-gray-300 rounded px-3 py-2 w-52"})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:["name","segment","type","category","packing","feedback","details","composition","indications","usage"].map(e=>a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-semibold capitalize",children:e}),["composition","usage","details","indications"].includes(e)?a.jsx("textarea",{name:e,value:r[e],onChange:t=>p(t,s),placeholder:`Enter ${e}`,rows:3,className:"border p-2 rounded w-full resize-y focus:ring-2 focus:ring-blue-300",required:!0}):a.jsx("input",{type:"text",name:e,value:r[e],onChange:t=>p(t,s),placeholder:`Enter ${e}`,className:"border p-2 rounded w-full focus:ring-2 focus:ring-blue-300",required:!0})]},e))}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-6",children:["report","brochure"].map(e=>a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-semibold capitalize",children:e}),a.jsxs("select",{value:r[`${e}Type`],onChange:t=>{const o=[...n];o[s][`${e}Type`]=t.target.value,o[s][e]="",c(o)},className:"border p-2 rounded w-full mb-2",children:[a.jsx("option",{value:"text",children:"Text"}),a.jsx("option",{value:"file",children:"PDF File"})]}),r[`${e}Type`]==="text"?a.jsx("input",{type:"text",name:e,value:r[e],onChange:t=>p(t,s),className:"border p-2 rounded w-full",placeholder:`Enter ${e}`}):a.jsx("input",{type:"file",accept:"application/pdf",onChange:t=>d(t,s,e),className:"border p-2 rounded w-full"})]},e))}),a.jsxs("div",{className:"mt-6",children:[a.jsx("p",{className:"mb-2 text-sm font-semibold",children:"🌐 Add Translations:"}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:["fr","es","ar","ko"].map(e=>a.jsx("button",{type:"button",onClick:()=>u(t=>({...t,[s]:t[s]===e?null:e})),className:`px-3 py-1 rounded text-sm font-semibold border ${m[s]===e?"bg-green-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:e.toUpperCase()},e))}),["fr","es","ar","ko"].map(e=>m[s]===e&&a.jsxs("div",{className:"mb-5 p-4 border rounded-md bg-gray-50 shadow-inner",children:[a.jsxs("h4",{className:"font-semibold text-gray-700 mb-3",children:[e.toUpperCase()," Translation Fields"]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:["name","segment","type","category","packing","details","composition","indications","usage"].map(t=>a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium capitalize",children:t}),["composition","usage","details","indications"].includes(t)?a.jsx("textarea",{name:t,value:r.translations[e][t]||"",onChange:o=>g(o,s,e),placeholder:`${t.charAt(0).toUpperCase()+t.slice(1)} (${e.toUpperCase()})`,rows:3,className:"border p-2 rounded w-full resize-y focus:ring-2 focus:ring-blue-300"}):a.jsx("input",{type:"text",name:t,value:r.translations[e][t]||"",onChange:o=>g(o,s,e),placeholder:`${t.charAt(0).toUpperCase()+t.slice(1)} (${e.toUpperCase()})`,className:"border p-2 rounded w-full focus:ring-2 focus:ring-blue-300"})]},t))})]},e))]})]},s)),a.jsxs("div",{className:"flex justify-between mt-6",children:[a.jsx("button",{type:"button",onClick:h,className:"bg-blue-600 hover:bg-blue-700 text-white font-medium px-5 py-2 rounded shadow transition duration-200",children:"➕ Add Product"}),a.jsx("button",{type:"submit",className:"bg-green-600 hover:bg-green-700 text-white font-medium px-6 py-2 rounded shadow transition duration-200",children:"✅ Submit All"})]})]})]})};export{v as default};
