import{r as o,i as u,j as e,a as x}from"./index-Dg0sH7Ks.js";import{b,c as p}from"./index-CrGYePfZ.js";import{u as j}from"./useTranslation-CGA3uCaV.js";function I({category:s="Human"}){const[a,l]=o.useState([]),[d,n]=o.useState(0),c=o.useRef(null),i=async(r,h)=>{try{const t=await x.get(`/sliderimage/${h}/${r}`),f=Array.isArray(t.data.images)?t.data.images:[];l(f.slice(0,5))}catch(t){console.error("Failed to fetch images:",t),l([])}};o.useEffect(()=>{const r=u.language||"en";i(r,s),n(0);const h=t=>{i(t,s),n(0)};return u.on("languageChanged",h),()=>{u.off("languageChanged",h)}},[s]),o.useEffect(()=>(a.length>0&&(c.current=setInterval(()=>{n(r=>r===a.length-1?0:r+1)},4e3)),()=>clearInterval(c.current)),[a]);const g=()=>{n(r=>r===0?a.length-1:r-1)},m=()=>{n(r=>r===a.length-1?0:r+1)};return a.length===0?e.jsx("div",{className:"w-full h-[300px] flex justify-center items-center text-gray-500",children:"Loading slider..."}):e.jsxs("div",{className:"relative w-full mx-auto",children:[e.jsx("div",{className:"relative w-full h-full overflow-hidden",children:e.jsx("img",{src:a[d].url,alt:`Slide ${d+1}`,className:"w-full h-full transition-transform duration-500 ease-in-out object-cover",loading:"eager"})}),e.jsx("button",{className:"absolute top-1/2 left-4 transform -translate-y-1/2 bg-gray-900/50 text-white p-2 rounded-full hover:bg-gray-800 z-10",onClick:g,"aria-label":"Previous slide",children:e.jsx(b,{})}),e.jsx("button",{className:"absolute top-1/2 right-4 transform -translate-y-1/2 bg-gray-900/50 text-white p-2 rounded-full hover:bg-gray-800 z-10",onClick:m,"aria-label":"Next slide",children:e.jsx(p,{})})]})}const v=({rating:s})=>e.jsx("div",{className:"flex justify-center",children:Array.from({length:5}).map((a,l)=>e.jsx("svg",{className:`w-5 h-5 ${l<s?"text-yellow-400":"text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.286 3.962a1 1 0 00.95.69h4.166c.969 0 1.371 1.24.588 1.81l-3.37 2.448a1 1 0 00-.364 1.118l1.287 3.961c.3.922-.755 1.688-1.54 1.118L10 13.347l-3.37 2.448c-.785.57-1.84-.196-1.54-1.118l1.287-3.961a1 1 0 00-.364-1.118L3.642 9.39c-.783-.57-.38-1.81.588-1.81h4.166a1 1 0 00.95-.69l1.286-3.962z"})},l))}),C=({apiUrl:s="/products/get",category:a,limit:l,theme:d,showHeading:n=!0})=>{const[c,i]=o.useState([]),{i18n:g}=j(),m={"Health Supplements":"text-red-800 border-red-300 bg-white","Personal care":"text-red-800 border-red-300 bg-white",Veterinary:"text-blue-800 border-blue-300 bg-white",Pet:"text-blue-800 border-blue-300 bg-white",Agriculture:"text-green-800 border-green-300 bg-white",Agri:"text-green-800 border-green-300 bg-white",default:"bg-white text-gray-800 border-gray-200"},r=m[d]||m.default;o.useEffect(()=>{h()},[a,g.language]);const h=async()=>{try{const{data:t}=await x.get(s,{params:{category:a}});let f=t;l&&(f=f.slice(0,l)),i(f)}catch(t){console.error("❌ Error fetching products:",t)}};return c.length===0?e.jsx("p",{className:"text-center text-gray-500 py-20",children:"No products found."}):e.jsxs("div",{children:[n&&e.jsx("div",{className:"flex flex-col items-center justify-center mb-12",children:e.jsxs("h1",{className:"text-3xl md:text-4xl font-bold text-center mb-4",children:[a?.toUpperCase()," PRODUCTS"]})}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-5",children:c.map(t=>e.jsx("div",{className:"flip-card w-full max-w-xs mx-auto",children:e.jsxs("div",{className:"flip-card-inner",children:[e.jsxs("div",{className:`flip-card-front shadow-lg rounded-xl overflow-hidden border transition duration-300 ${r}`,children:[e.jsx("img",{src:t.image,alt:t.name,className:"w-full h-72 object-cover"}),e.jsxs("div",{className:"flex flex-col items-center p-3 text-center",children:[e.jsx("h3",{className:"text-lg font-semibold",children:t.name}),e.jsx(v,{rating:t.rating}),e.jsx("span",{className:"mt-3 text-xs font-medium px-3 py-1 rounded-full border",children:t.category})]})]}),e.jsxs("div",{className:`flip-card-back p-4 shadow-xl flex flex-col justify-center items-center text-center border ${r}`,children:[e.jsx("h3",{className:"text-lg font-semibold",children:t.name}),e.jsx("p",{className:"mt-3 text-sm max-h-80 overflow-y-auto no-scrollbar border border-gray-300 rounded-lg shadow-sm p-3 hover:shadow-md transition-shadow duration-300 ease-in-out",children:t.details})]})]})},t.productId))}),e.jsx("style",{children:`
        .flip-card {
          perspective: 1000px;
          height: 420px;
        }
        .flip-card-inner {
          position: relative;
          width: 100%;
          height: 100%;
          transition: transform 0.8s;
          transform-style: preserve-3d;
        }
        .flip-card:hover .flip-card-inner {
          transform: rotateY(180deg);
        }
        .flip-card-front,
        .flip-card-back {
          position: absolute;
          width: 100%;
          height: 100%;
          backface-visibility: hidden;
          border-radius: 0.75rem;
        }
        .flip-card-back {
          transform: rotateY(180deg);
        }
      `})]})};function S({category:s="Human"}){const[a,l]=o.useState(null),d=async(n,c)=>{try{const i=await x.get(`/sliderimage/${c}/${n}`),g=Array.isArray(i.data.images)?i.data.images:[],m=g[g.length-1];l(m||null)}catch(i){console.error("Failed to fetch image:",i),l(null)}};return o.useEffect(()=>{const n=u.language||"en";d(n,s);const c=i=>{d(i,s)};return u.on("languageChanged",c),()=>{u.off("languageChanged",c)}},[s]),a?e.jsx("div",{className:"relative w-full mx-auto",children:e.jsx("div",{className:"relative w-full h-full overflow-hidden",children:e.jsx("img",{src:a.url,alt:"Last Image",className:"w-full h-full object-cover",loading:"eager"})})}):e.jsx("div",{className:"w-full h-[300px] flex justify-center items-center text-gray-500",children:"Loading image..."})}export{I,C as P,S};
