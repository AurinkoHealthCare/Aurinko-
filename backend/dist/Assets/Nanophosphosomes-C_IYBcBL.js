import{r as s,c as y,j as e,a as g}from"./index-Dg0sH7Ks.js";import{P as w}from"./ProductCard-Bow7PO1H.js";import{u as v}from"./useTranslation-CGA3uCaV.js";const C=()=>{const{t:P}=v("home_parts"),[c,h]=s.useState([]),[u,l]=s.useState(!0),[t,f]=s.useState(null),[x,n]=s.useState(!1),[d]=y(),r=d.get("segment"),i=d.get("theme"),p=async()=>{try{n(!0);const a=await g.get("/otherimage/all"),o=(Array.isArray(a.data)?a.data:a.data?.data||[]).find(j=>j.imageName?.toLowerCase()==="nanophosphosome");f(o||null)}catch(a){console.error("Failed to fetch header image ❌",a)}finally{n(!1)}},N=async()=>{try{l(!0);const a=await g.get("/products2/all"),m=r?a.data.filter(o=>o.segment?.toLowerCase()===r.toLowerCase()):a.data;h(m)}catch{alert("❌ Error fetching products")}finally{l(!1)}};return s.useEffect(()=>{p(),N()},[r]),e.jsxs("div",{className:`font-sans ${i==="dark"?"bg-gray-900 text-white":"bg-white text-black"}`,children:[e.jsx("div",{className:"relative w-full",children:x?e.jsx("div",{className:"w-full h-64 flex items-center justify-center bg-gray-100",children:e.jsx("p",{className:"text-gray-500",children:"Loading header image..."})}):t?e.jsx("div",{className:"relative w-full",children:e.jsx("img",{src:t.url,alt:t.imageName,className:"w-full h-full object-cover"})}):e.jsx("div",{className:"w-full h-64 flex items-center justify-center bg-gray-100",children:e.jsx("p",{className:"text-gray-500",children:'No "Nanophosphosome" image found'})})}),e.jsx("div",{className:"flex flex-col w-full p-4",children:u?e.jsx("p",{className:"text-center text-gray-500",children:"Loading products..."}):c.length===0?e.jsx("p",{className:"text-center text-gray-500",children:"No products found."}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:e.jsx(w,{products:c,segment:"Nanophosphosome",theme:i})})})]})};export{C as default};
