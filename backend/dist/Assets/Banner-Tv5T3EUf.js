import{r,j as t,a as x}from"./index-Dg0sH7Ks.js";import{L as _,y as n}from"./index-Dlz4q_FO.js";/* empty css                      */import"./clsx-B-dksMZM.js";const S=()=>{const[m,h]=r.useState([]),[c,f]=r.useState({}),[s,o]=r.useState({}),[d,y]=r.useState("Human"),[u,b]=r.useState("en"),[j,p]=r.useState(!1),g=async()=>{p(!0);try{const e=await x.get(`/sliderimage/${d}/${u}`),a=Array.isArray(e.data.images)?e.data.images:[];h(a)}catch(e){console.error("Error fetching images:",e),h([])}finally{p(!1)}};r.useEffect(()=>{g()},[d,u]);const v=(e,a)=>{f(i=>({...i,[a]:e.target.files[0]}))},w=async e=>{o(a=>({...a,[e]:"deleting"}));try{await x.delete(`/sliderimage/${e}`),n.success("Image deleted successfully"),g()}catch(a){n.error("Failed to delete image"),console.error("Delete error:",a)}finally{o(a=>({...a,[e]:null}))}},N=async e=>{const a=c[e];if(!a){n.warning("Please select an image to update.");return}o(l=>({...l,[e]:"updating"}));const i=new FormData;i.append("file",a);try{await x.put(`/sliderimage/${e}`,i),n.success("Image updated successfully"),g()}catch(l){n.error("Failed to update image"),console.error("Update error:",l)}finally{o(l=>({...l,[e]:null}))}};return t.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[t.jsx(_,{position:"top-right",autoClose:2e3}),t.jsx("h2",{className:"text-3xl font-bold mb-10 text-center text-blue-700",children:"Banner Image Manager"}),t.jsxs("div",{className:"flex flex-col md:flex-row gap-6 justify-center mb-10",children:[t.jsxs("select",{value:d,onChange:e=>y(e.target.value),className:"px-4 py-3 rounded-xl border border-gray-300 text-gray-700 focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"Human",children:"Human"}),t.jsx("option",{value:"Veterinary",children:"Veterinary"}),t.jsx("option",{value:"Agriculture",children:"Agriculture"})]}),t.jsxs("select",{value:u,onChange:e=>b(e.target.value),className:"px-4 py-3 rounded-xl border border-gray-300 text-gray-700 focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"en",children:"English"}),t.jsx("option",{value:"fr",children:"French"}),t.jsx("option",{value:"ar",children:"Arabic"}),t.jsx("option",{value:"es",children:"Spanish"}),t.jsx("option",{value:"ko",children:"Korean"})]})]}),j?t.jsx("p",{className:"text-center text-gray-500",children:"Loading images..."}):m.length===0?t.jsx("p",{className:"text-center text-gray-500",children:"No images found for this category & language."}):t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8",children:m.map(e=>t.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-lg flex flex-col items-center border border-gray-200 hover:shadow-xl transition-all duration-300",children:[t.jsxs("p",{className:"text-sm font-medium text-gray-600 mb-2",children:["Image #",e.no]}),t.jsxs("label",{htmlFor:`file-${e._id}`,className:"relative w-full h-40 rounded overflow-hidden cursor-pointer group border bg-gray-50 mb-3",children:[t.jsx("img",{src:e.url,alt:`Image ${e.no}`,className:"w-full h-full object-contain transition-transform duration-200 group-hover:scale-105"}),t.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-10 opacity-0 group-hover:opacity-100 flex items-center justify-center text-white text-xs font-semibold",children:"Click to change"})]}),t.jsx("input",{id:`file-${e._id}`,type:"file",accept:"image/*",onChange:a=>v(a,e._id),className:"hidden"}),c[e._id]&&t.jsx("p",{className:"text-xs text-gray-500 mb-2 truncate w-full text-center",children:c[e._id].name}),t.jsxs("div",{className:"flex gap-3 w-full justify-center mt-auto",children:[t.jsx("button",{onClick:()=>N(e._id),disabled:s[e._id],className:`w-full px-3 py-1.5 text-sm font-medium rounded-lg transition duration-200 text-white ${s[e._id]==="updating"?"bg-blue-600 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:s[e._id]==="updating"?"Updating...":"Update"}),t.jsx("button",{onClick:()=>w(e._id),disabled:s[e._id],className:`w-full px-3 py-1.5 text-sm font-medium rounded-lg transition duration-200 text-white ${s[e._id]==="deleting"?"bg-red-400 cursor-not-allowed":"bg-red-600 hover:bg-red-700"}`,children:s[e._id]==="deleting"?"Deleting...":"Delete"})]})]},e._id))})]})};export{S as default};
