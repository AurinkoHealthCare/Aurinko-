import{r as a,c as N,j as e,a as o}from"./index-Dg0sH7Ks.js";import{P as p}from"./ProductCard-Bow7PO1H.js";import{u as w}from"./useTranslation-CGA3uCaV.js";const C=()=>{const{t:v}=w("home_parts"),[m,g]=a.useState([]),[b,c]=a.useState(!0),[s,f]=a.useState(null),[u,n]=a.useState(!1),[i]=N(),r=i.get("segment"),x=i.get("theme"),h=async()=>{try{n(!0);const t=await o.get("/otherimage/all"),l=(Array.isArray(t.data)?t.data:t.data?.data||[]).find(y=>y.imageName?.toLowerCase()==="feed and grains");f(l||null)}catch(t){console.error("Failed to fetch header image ❌",t)}finally{n(!1)}},j=async()=>{try{c(!0);const t=await o.get("/products2/all"),d=r?t.data.filter(l=>l.segment?.toLowerCase()===r.toLowerCase()):t.data;g(d)}catch{alert("❌ Error fetching products")}finally{c(!1)}};return a.useEffect(()=>{h(),j()},[r]),e.jsxs("div",{className:`font-sans ${x==="dark"?"bg-gray-900 text-white":"bg-white text-black"}`,children:[e.jsx("div",{className:"relative w-full",children:u?e.jsx("div",{className:"w-full h-64 flex items-center justify-center bg-gray-100",children:e.jsx("p",{className:"text-gray-500",children:"Loading header image..."})}):s?e.jsxs("div",{className:"relative w-full",children:[e.jsx("img",{src:s.url,alt:s.imageName,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 flex flex-col justify-center items-center text-[#1500b3]",children:e.jsx("h1",{className:"font-bold text-3xl md:text-4xl lg:text-5xl relative text-center mb-6",children:s.imageName})})]}):e.jsx("div",{className:"w-full h-64 flex items-center justify-center bg-gray-100",children:e.jsx("p",{className:"text-gray-500",children:'No "Feed and Grains" image found'})})}),e.jsx("div",{className:"flex flex-col w-full p-4",children:e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-1 lg:grid-cols-1 gap-4",children:e.jsx(p,{products:m,segment:"FeedGrain",theme:"Veterinary"})})})]})};export{C as default};
