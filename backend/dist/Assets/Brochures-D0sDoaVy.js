import{r,j as l,a as v}from"./index-Dg0sH7Ks.js";const w=()=>{const[s,c]=r.useState(""),[i,d]=r.useState(Array(6).fill(null)),[o,u]=r.useState(Array(6).fill("")),[n,g]=r.useState(Array(6).fill(null)),[m,p]=r.useState(!1),h=[{value:"",label:"Select Category"},{value:"Human",label:"Human"},{value:"Veterinary",label:"Veterinary"},{value:"Agriculture",label:"Agriculture"}],b=(a,e)=>{const t=[...i];t[a]=e,d(t);const f=[...n];f[a]=e?URL.createObjectURL(e):null,g(f)},x=(a,e)=>{const t=[...o];t[a]=e,u(t)},y=async()=>{if(!s){alert("Please select a category first.");return}p(!0);const a=new FormData;i.forEach((e,t)=>{e&&(a.append("files",e),a.append("names",o[t]||e.name),a.append("categories",s))});try{const e=await v.post("/brochures/all",a,{headers:{"Content-Type":"multipart/form-data"}});alert("✅ Upload successful"),console.log(e.data),c(""),d(Array(6).fill(null)),g(Array(6).fill(null)),u(Array(6).fill(""))}catch(e){console.error(e),alert("❌ Upload failed")}finally{p(!1)}};return l.jsxs("div",{className:"p-8 max-w-6xl mx-auto",children:[l.jsx("h2",{className:"text-3xl font-extrabold mb-8 text-gray-800 text-center tracking-tight",children:"📂 Add Images"}),l.jsxs("div",{className:"mb-8",children:[l.jsx("label",{className:"block mb-2 text-base font-semibold text-gray-700",children:"Select Category"}),l.jsx("select",{value:s,onChange:a=>c(a.target.value),className:"border border-gray-300 rounded-xl p-3 w-full focus:outline-none focus:ring-4 focus:ring-blue-300 bg-white shadow-sm",children:h.map(a=>l.jsx("option",{value:a.value,children:a.label},a.value))})]}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-8",children:Array.from({length:6}).map((a,e)=>l.jsxs("div",{className:"border border-gray-200 rounded-2xl p-4 bg-white shadow-md flex flex-col items-center gap-3",children:[l.jsxs("label",{className:"w-full h-32 flex items-center justify-center overflow-hidden cursor-pointer bg-gray-100 border border-gray-300",children:[n[e]?l.jsx("img",{src:n[e],alt:`Preview ${e}`,className:"w-full h-full object-cover"}):l.jsx("span",{className:"text-gray-400 text-sm text-center px-2",children:"Click to Upload"}),l.jsx("input",{type:"file",accept:"image/*",onChange:t=>b(e,t.target.files[0]),className:"hidden"})]}),l.jsx("input",{type:"text",placeholder:"Enter image name",value:o[e],onChange:t=>x(e,t.target.value),className:"w-full border border-gray-300 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-300"})]},e))}),l.jsx("button",{onClick:y,disabled:m,className:"mt-8 p-4 bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white py-4 rounded-xl text-lg font-semibold transition-all shadow-lg disabled:opacity-50",children:m?"Uploading...":"✅ Upload"})]})};export{w as default};
